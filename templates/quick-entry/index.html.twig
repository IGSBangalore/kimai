{% extends app.request.xmlHttpRequest ? 'form.html.twig' : 'base.html.twig' %}
{% import "quick-entry/actions.html.twig" as actions %}

{% block page_title %}{{ 'quick-entry.title'|trans }}{% endblock %}
{% block page_actions %}{{ actions.quickEntries('index') }}{% endblock %}

{% block main %}

    {% embed '@AdminLTE/Widgets/box-widget.html.twig' %}
        {% import "macros/widgets.html.twig" as widgets %}
        {% block box_attributes %}id="quick_entry_box"{% endblock %}
        {% block box_before %}{{ form_start(form, {attr: {class: 'form-dataTable'}}) }}{% endblock %}
        {% block box_after %}{{ form_end(form) }}{% endblock %}
        {% block box_title %}
            {{ start_date|date_short }} &ndash; {{ end_date|date_short }}
        {% endblock %}
        {% block box_tools %}
            <ul class="pagination pagination-sm inline">
                <li class="prev"><a href="{{ path('quick-entry', {'begin': previous}) }}" rel="prev"><i class="{{ 'left'|icon }}"></i></a></li>
                <li class="next"><a href="{{ path('quick-entry', {'begin': next}) }}" rel="next"><i class="{{ 'right'|icon }}"></i></a></li>
            </ul>
        {% endblock %}
        {% block box_body_class %}no-padding{% endblock %}
        {% block box_footer %}
            <input type="submit" value="{{ 'action.save'|trans }}" class="btn btn-primary" />
        {% endblock %}
        {% block box_body %}
            <table class="table dataTable">
                <thead>
                    <tr>
                        <th>{{ 'label.project'|trans }}</th>
                        <th>{{ 'label.activity'|trans }}</th>
                        {% for id, week in days %}
                        <th class="text-left">{{ week.day|date_short }}</th>
                        {% endfor %}
                    </tr>
                </thead>
                <tbody id="ts-collection" data-index="{{ form.children|length - 1 }}">
                    {{ form(form) }}
                </tbody>
            </table>
        {% endblock %}
    {% endembed %}

{% endblock %}
